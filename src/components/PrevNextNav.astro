---
import type { CollectionEntry } from "astro:content";

export interface Props {
  prev: CollectionEntry<"docs"> | null;
  next: CollectionEntry<"docs"> | null;
}

const { prev, next } = Astro.props;
---

{
  (prev || next) && (
    <nav class="prev-next-nav" aria-label="Previous and next pages">
      <div class="nav-item prev">
        {prev && (
          <a href={`/docs/${prev.slug}/`} class="nav-link">
            <span class="nav-direction">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="m15 18-6-6 6-6" />
              </svg>
              Previous
            </span>
            <span class="nav-title">{prev.data.title}</span>
          </a>
        )}
      </div>
      <div class="nav-item next">
        {next && (
          <a href={`/docs/${next.slug}/`} class="nav-link">
            <span class="nav-direction">
              Next
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="m9 18 6-6-6-6" />
              </svg>
            </span>
            <span class="nav-title">{next.data.title}</span>
          </a>
        )}
      </div>
    </nav>
  )
}

<style>
  .prev-next-nav {
    @apply mt-12 flex flex-col gap-4 border-t border-skin-line pt-8 sm:flex-row;
  }

  .nav-item {
    @apply flex-1;
  }

  .nav-item.next {
    @apply text-right;
  }

  .nav-link {
    @apply flex flex-col gap-1 rounded-lg border border-skin-line
           p-4 transition-all duration-150
           hover:border-skin-accent hover:bg-skin-card;
  }

  .nav-item.next .nav-link {
    @apply items-end;
  }

  .nav-direction {
    @apply flex items-center gap-1 text-sm text-skin-base opacity-60;
  }

  .nav-direction svg {
    @apply h-4 w-4 fill-transparent stroke-current;
  }

  .nav-title {
    @apply font-medium text-skin-accent;
  }
</style>
